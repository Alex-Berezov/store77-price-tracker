# üõí Store77 Price Tracker

> –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ—Å—á–µ—Ç–æ–º —Ü–µ–Ω
> –ø–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º—É –∫—É—Ä—Å—É USD.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ —Å
[store77.net](https://store77.net), —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å
–∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏ –≤ —Ä—É–±–ª—è—Ö –∏ –¥–æ–ª–ª–∞—Ä–∞—Ö. –ö—É—Ä—Å USD –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
—á–µ—Ä–µ–∑ API Grinex.

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤ –∫–∞–∂–¥—ã–µ 5-10 –º–∏–Ω—É—Ç
- üí± –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ü–µ–Ω RUB ‚Üí USDT –ø–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º—É –∫—É—Ä—Å—É
- üì¶ –ö–∞—Ç–∞–ª–æ–≥ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- üíæ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω –≤ Redis
- üê≥ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

## üèó –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –°–ª–æ–π            | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è              |
| --------------- | ----------------------- |
| Backend         | Node.js (NestJS)        |
| Frontend        | Next.js (App Router)    |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö     | PostgreSQL (Prisma ORM) |
| –ö—ç—à             | Redis                   |
| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è | Docker                  |
| –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è      | TailwindCSS + Shadcn/UI |

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
store77-price-tracker/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ api/                 # NestJS Backend
‚îÇ   ‚îî‚îÄ‚îÄ web/                 # Next.js Frontend
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îî‚îÄ‚îÄ shared/              # –û–±—â–∏–µ —Ç–∏–ø—ã –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ docker-compose.yml       # Dev –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ docker-compose.prod.yml  # Production
‚îî‚îÄ‚îÄ package.json             # Yarn workspaces
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js >= 18.0.0
- Yarn >= 1.22.0
- Docker & Docker Compose

### –ü–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫–∞ (Development)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd store77-price-tracker

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
yarn install

# 3. –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (PostgreSQL + Redis)
docker-compose up -d

# 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω–µ—Ç .env –≤ apps/api/)
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª apps/api/.env —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
# DATABASE_URL="postgresql://postgres:postgres@localhost:5432/store_scraper?schema=public"
# REDIS_HOST=localhost
# REDIS_PORT=6379
# API_PORT=8080

# 5. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
yarn workspace api prisma migrate dev

# 6. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
yarn workspace api prisma generate

# 7. –ó–∞–ø—É—Å–∫ Backend API (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
yarn dev:api
# API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8080
# Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:8080/api/docs

# 8. –ó–∞–ø—É—Å–∫ Frontend (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
yarn dev:web
# Frontend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:3000
```

### –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞          | –û–ø–∏—Å–∞–Ω–∏–µ                       |
| ---------------- | ------------------------------ |
| `yarn dev:api`   | –ó–∞–ø—É—Å–∫ Backend API (–ø–æ—Ä—Ç 8080) |
| `yarn dev:web`   | –ó–∞–ø—É—Å–∫ Frontend (–ø–æ—Ä—Ç 3000)    |
| `yarn build:api` | –°–±–æ—Ä–∫–∞ Backend                 |
| `yarn build:web` | –°–±–æ—Ä–∫–∞ Frontend                |

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (PostgreSQL, Redis)
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
docker-compose down -v
```

### Docker (Production)

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.prod.yml up -d
```

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ API –¥–æ—Å—Ç—É–ø–Ω–∞ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

```
http://localhost:8080/api/docs
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å                 | –û–ø–∏—Å–∞–Ω–∏–µ                   |
| ----- | -------------------- | -------------------------- |
| GET   | `/api/products`      | –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ (–ø–∞–≥–∏–Ω–∞—Ü–∏—è) |
| GET   | `/api/products/:id`  | –î–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞              |
| GET   | `/api/categories`    | –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π           |
| GET   | `/api/currency/rate` | –¢–µ–∫—É—â–∏–π –∫—É—Ä—Å USDT          |

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
yarn test

# –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
yarn workspace api test:cov
```

## üìù –°–∫—Ä–∏–ø—Ç—ã

| –ö–æ–º–∞–Ω–¥–∞             | –û–ø–∏—Å–∞–Ω–∏–µ                  |
| ------------------- | ------------------------- |
| `yarn dev`          | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—É—Å–∫–µ      |
| `yarn build`        | –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤       |
| `yarn lint`         | –ü—Ä–æ–≤–µ—Ä–∫–∞ ESLint           |
| `yarn format`       | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Prettier   |
| `yarn format:check` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è   |
| `yarn typecheck`    | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript |
| `yarn test`         | –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤             |

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–º–æ—Ç—Ä–∏—Ç–µ [.env.example](.env.example) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è        | –û–ø–∏—Å–∞–Ω–∏–µ                     | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| ----------------- | ---------------------------- | ------------ |
| `DATABASE_URL`    | URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL | -            |
| `REDIS_HOST`      | –•–æ—Å—Ç Redis                   | `localhost`  |
| `API_PORT`        | –ü–æ—Ä—Ç API —Å–µ—Ä–≤–µ—Ä–∞             | `8080`       |
| `SCRAPE_INTERVAL` | –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø–∞—Ä—Å–∏–Ω–≥–∞ (—Å–µ–∫—É–Ω–¥—ã)  | `3600`       |

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
