# üõí Store77 Price Tracker

> –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ—Å—á–µ—Ç–æ–º —Ü–µ–Ω
> –ø–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º—É –∫—É—Ä—Å—É USDT.

[![CI](https://github.com/Alex-Berezov/store77-price-tracker/actions/workflows/ci.yml/badge.svg)](https://github.com/Alex-Berezov/store77-price-tracker/actions/workflows/ci.yml)
[![Deploy](https://github.com/Alex-Berezov/store77-price-tracker/actions/workflows/deploy.yml/badge.svg)](https://github.com/Alex-Berezov/store77-price-tracker/actions/workflows/deploy.yml)

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ —Å
[store77.net](https://store77.net), —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å
–∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏ –≤ —Ä—É–±–ª—è—Ö –∏ –¥–æ–ª–ª–∞—Ä–∞—Ö. –ö—É—Ä—Å USDT –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
—á–µ—Ä–µ–∑ [Grinex API](https://grinex.io).

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥** —Ç–æ–≤–∞—Ä–æ–≤ –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- üí± **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ü–µ–Ω** RUB ‚Üí USDT –ø–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º—É –∫—É—Ä—Å—É –±–∏—Ä–∂–∏
- üì¶ **–ö–∞—Ç–∞–ª–æ–≥** —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ 330+ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- üîç **–ü–æ–∏—Å–∫** —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- üìÑ **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- üíæ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ Redis –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üê≥ **Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** –¥–ª—è –ª—ë–≥–∫–æ–≥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- üìñ **Swagger/OpenAPI** –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

- **–†–∞—Å—á—ë—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã:** `–§–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ = –¶–µ–Ω–∞ —Å —Å–∞–π—Ç–∞ - 1000 ‚ÇΩ`
- **–ö—É—Ä—Å USDT:** `–ü–µ—Ä–≤—ã–π bid –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ Grinex - 0.10 ‚ÇΩ`

## üèó –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –°–ª–æ–π            | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è              | –í–µ—Ä—Å–∏—è |
| --------------- | ----------------------- | ------ |
| Backend         | Node.js (NestJS)        | 10.x   |
| Frontend        | Next.js (App Router)    | 15.x   |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö     | PostgreSQL (Prisma ORM) | 16 / 6 |
| –ö—ç—à             | Redis                   | 7.x    |
| –ü–∞—Ä—Å–µ—Ä          | Playwright (Stealth)    | 1.x    |
| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è | Docker                  | 24+    |
| –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è      | TailwindCSS + Shadcn/UI | 3.x    |
| CI/CD           | GitHub Actions          | -      |

## üèõ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Monorepo

```
store77-price-tracker/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ api/                    # NestJS Backend
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prisma/             # Prisma —Å—Ö–µ–º–∞ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ products/       # CRUD —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ categories/     # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ currency/       # –ö—É—Ä—Å –≤–∞–ª—é—Ç
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ scraper/        # –ü–∞—Ä—Å–µ—Ä store77.net
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ images/         # –ü—Ä–æ–∫—Å–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ cache/          # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ Redis
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ prisma/         # Prisma —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îî‚îÄ‚îÄ web/                    # Next.js Frontend
‚îÇ       ‚îú‚îÄ‚îÄ src/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ app/            # App Router —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ components/     # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ hooks/          # Custom hooks
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ lib/            # –£—Ç–∏–ª–∏—Ç—ã, API –∫–ª–∏–µ–Ω—Ç
‚îÇ       ‚îî‚îÄ‚îÄ e2e/                # Playwright E2E —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îî‚îÄ‚îÄ shared/                 # –û–±—â–∏–µ —Ç–∏–ø—ã –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ docker-compose.yml          # Dev –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ docker-compose.prod.yml     # Production
‚îî‚îÄ‚îÄ .github/workflows/          # CI/CD –ø–∞–π–ø–ª–∞–π–Ω—ã
```

### –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 Category                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id          String   @id                    ‚îÇ
‚îÇ name        String                          ‚îÇ
‚îÇ slug        String   @unique                ‚îÇ
‚îÇ url         String   (external URL)         ‚îÇ
‚îÇ parentId    String?  (self-reference)       ‚îÇ
‚îÇ products    Product[]                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
                    ‚îÇ 1:N
                    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  Product                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id            String   @id                  ‚îÇ
‚îÇ externalId    String?  @unique              ‚îÇ
‚îÇ name          String                        ‚îÇ
‚îÇ slug          String   @unique              ‚îÇ
‚îÇ description   String?                       ‚îÇ
‚îÇ originalPrice Int      (–≤ –∫–æ–ø–µ–π–∫–∞—Ö)         ‚îÇ
‚îÇ finalPrice    Int      (originalPrice-1000‚ÇΩ)‚îÇ
‚îÇ imageUrl      String?                       ‚îÇ
‚îÇ externalUrl   String                        ‚îÇ
‚îÇ categoryId    String?                       ‚îÇ
‚îÇ isActive      Boolean                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Node.js** >= 18.0.0
- **Yarn** >= 1.22.0
- **Docker** & Docker Compose v2+
- **Git**

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/Alex-Berezov/store77-price-tracker.git
cd store77-price-tracker

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
yarn install

# 3. –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (PostgreSQL + Redis)
docker-compose up -d

# 4. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è API
cp .env.example apps/api/.env

# 5. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
yarn workspace api prisma migrate dev

# 6. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
yarn workspace api prisma generate

# 7. –ó–∞–ø—É—Å–∫ Backend API (—Ç–µ—Ä–º–∏–Ω–∞–ª 1)
yarn dev:api
# ‚úì API: http://localhost:8080
# ‚úì Swagger: http://localhost:8080/api/docs

# 8. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Web
echo "NEXT_PUBLIC_API_URL=http://localhost:8080" > apps/web/.env.local

# 9. –ó–∞–ø—É—Å–∫ Frontend (—Ç–µ—Ä–º–∏–Ω–∞–ª 2)
yarn dev:web
# ‚úì Web: http://localhost:3000
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker Production

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.prod.yml up -d --build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose -f docker-compose.prod.yml ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose -f docker-compose.prod.yml logs -f
```

### –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

| –ö–æ–º–∞–Ω–¥–∞                            | –û–ø–∏—Å–∞–Ω–∏–µ                    |
| ---------------------------------- | --------------------------- |
| `yarn dev:api`                     | –ó–∞–ø—É—Å–∫ Backend (–ø–æ—Ä—Ç 8080)  |
| `yarn dev:web`                     | –ó–∞–ø—É—Å–∫ Frontend (–ø–æ—Ä—Ç 3000) |
| `yarn build`                       | –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤         |
| `yarn lint`                        | –ü—Ä–æ–≤–µ—Ä–∫–∞ ESLint             |
| `yarn format`                      | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Prettier     |
| `yarn typecheck`                   | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript   |
| `yarn test`                        | –ó–∞–ø—É—Å–∫ unit-—Ç–µ—Å—Ç–æ–≤          |
| `yarn workspace api test:cov`      | –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º (API)     |
| `yarn workspace web test:e2e`      | E2E —Ç–µ—Å—Ç—ã (Playwright)      |
| `yarn workspace api prisma studio` | –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –ë–î      |

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
docker-compose down -v
```

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Swagger UI

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ API:

```
http://localhost:8080/api/docs
```

### –ë–∞–∑–æ–≤—ã–π URL

```
http://localhost:8080/api
```

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### üõç Products (–¢–æ–≤–∞—Ä—ã)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å            | –û–ø–∏—Å–∞–Ω–∏–µ                                  |
| ----- | --------------- | ----------------------------------------- |
| GET   | `/products`     | –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π |
| GET   | `/products/:id` | –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ             |

**GET /products** ‚Äî –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:

| –ü–∞—Ä–∞–º–µ—Ç—Ä   | –¢–∏–ø    | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                           |
| ---------- | ------ | ------------ | ---------------------------------- |
| `page`     | number | 1            | –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã                     |
| `limit`    | number | 20           | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–º–∞–∫—Å. 100) |
| `category` | string | -            | Slug –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏      |
| `search`   | string | -            | –ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å                   |

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**

```json
{
  "data": [
    {
      "id": "clx...",
      "name": "iPhone 15 Pro Max",
      "slug": "iphone-15-pro-max",
      "originalPrice": 150000,
      "finalPrice": 149000,
      "imageUrl": "https://store77.net/...",
      "category": { "id": "...", "name": "–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã", "slug": "smartphones" }
    }
  ],
  "meta": {
    "page": 1,
    "limit": 20,
    "total": 1500,
    "totalPages": 75
  }
}
```

#### üìÇ Categories (–ö–∞—Ç–µ–≥–æ—Ä–∏–∏)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å          | –û–ø–∏—Å–∞–Ω–∏–µ              |
| ----- | ------------- | --------------------- |
| GET   | `/categories` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π |

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø    | –û–ø–∏—Å–∞–Ω–∏–µ                                     |
| -------- | ------ | -------------------------------------------- |
| `tree`   | string | –ï—Å–ª–∏ `true`, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ |

#### üí± Currency (–ö—É—Ä—Å –≤–∞–ª—é—Ç)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å                           | –û–ø–∏—Å–∞–Ω–∏–µ                  |
| ----- | ------------------------------ | ------------------------- |
| GET   | `/currency/rate`               | –¢–µ–∫—É—â–∏–π –∫—É—Ä—Å USDT/RUB     |
| POST  | `/currency/refresh`            | –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |
| GET   | `/currency/products/:id/price` | –¶–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞ –≤ USD         |

**GET /currency/rate** ‚Äî –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
  "rate": 92.45,
  "bid": 92.55,
  "timestamp": "2026-02-02T12:00:00.000Z",
  "fromCache": true
}
```

#### üï∑ Scraper (–ü–∞—Ä—Å–µ—Ä)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å               | –û–ø–∏—Å–∞–Ω–∏–µ                  |
| ----- | ------------------ | ------------------------- |
| POST  | `/scraper/trigger` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –≤—Ä—É—á–Ω—É—é |
| GET   | `/scraper/status`  | –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–∞—Ä—Å–µ—Ä–∞    |

**GET /scraper/status** ‚Äî –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
  "isRunning": false,
  "lastRunAt": "2026-02-02T11:50:00.000Z",
  "message": "Scraper is idle"
}
```

#### üñº Images (–ü—Ä–æ–∫—Å–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å            | –û–ø–∏—Å–∞–Ω–∏–µ                          |
| ----- | --------------- | --------------------------------- |
| GET   | `/images/proxy` | –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π store77 |

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø    | –û–ø–∏—Å–∞–Ω–∏–µ                      |
| -------- | ------ | ----------------------------- |
| `url`    | string | URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å store77.net |

#### ‚ù§Ô∏è Health Check

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å      | –û–ø–∏—Å–∞–Ω–∏–µ                   |
| ----- | --------- | -------------------------- |
| GET   | `/health` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ |

### –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ          |
| --- | ----------------- |
| 200 | –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å   |
| 202 | –ó–∞–ø—Ä–æ—Å –ø—Ä–∏–Ω—è—Ç     |
| 400 | –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å   |
| 404 | –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω  |
| 500 | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ |

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –í—Å–µ unit-—Ç–µ—Å—Ç—ã
yarn test

# –¢–µ—Å—Ç—ã API —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
yarn workspace api test:cov

# E2E —Ç–µ—Å—Ç—ã (—Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ API –∏ Web)
yarn workspace web test:e2e

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
yarn workspace api test -- products.service
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

- **Unit-—Ç–µ—Å—Ç—ã:** –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—Ä–∞—Å—á—ë—Ç —Ü–µ–Ω, –∫—É—Ä—Å –≤–∞–ª—é—Ç, –ø–∞—Ä—Å–∏–Ω–≥)
- **Integration-—Ç–µ—Å—Ç—ã:** –†–∞–±–æ—Ç–∞ —Å –ë–î –∏ Redis
- **E2E-—Ç–µ—Å—Ç—ã:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–∫–∞—Ç–∞–ª–æ–≥, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø–∞–≥–∏–Ω–∞—Ü–∏—è)

## üìù –°–∫—Ä–∏–ø—Ç—ã

| –ö–æ–º–∞–Ω–¥–∞             | –û–ø–∏—Å–∞–Ω–∏–µ                  |
| ------------------- | ------------------------- |
| `yarn dev`          | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—É—Å–∫–µ      |
| `yarn dev:api`      | –ó–∞–ø—É—Å–∫ API –≤ dev —Ä–µ–∂–∏–º–µ   |
| `yarn dev:web`      | –ó–∞–ø—É—Å–∫ Web –≤ dev —Ä–µ–∂–∏–º–µ   |
| `yarn build`        | –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤       |
| `yarn lint`         | –ü—Ä–æ–≤–µ—Ä–∫–∞ ESLint           |
| `yarn format`       | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Prettier   |
| `yarn format:check` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è   |
| `yarn typecheck`    | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript |
| `yarn test`         | –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤             |

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ [.env.example](.env.example).

### –û—Å–Ω–æ–≤–Ω—ã–µ

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è            | –û–ø–∏—Å–∞–Ω–∏–µ                     | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é            |
| --------------------- | ---------------------------- | ----------------------- |
| `DATABASE_URL`        | URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL | -                       |
| `REDIS_HOST`          | –•–æ—Å—Ç Redis                   | `localhost`             |
| `REDIS_PORT`          | –ü–æ—Ä—Ç Redis                   | `6379`                  |
| `API_PORT`            | –ü–æ—Ä—Ç API —Å–µ—Ä–≤–µ—Ä–∞             | `8080`                  |
| `SCRAPE_INTERVAL`     | –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø–∞—Ä—Å–∏–Ω–≥–∞ (—Å–µ–∫—É–Ω–¥—ã)  | `3600`                  |
| `NEXT_PUBLIC_API_URL` | URL API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞        | `http://localhost:8080` |

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è           | –û–ø–∏—Å–∞–Ω–∏–µ                 | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é    |
| -------------------- | ------------------------ | --------------- |
| `GRINEX_API_URL`     | URL API –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç      | Grinex USDT/RUB |
| `CURRENCY_CACHE_TTL` | TTL –∫—ç—à–∞ –∫—É—Ä—Å–∞ (—Å–µ–∫—É–Ω–¥—ã) | `300`           |
| `SCRAPE_TARGET_URL`  | URL —Å–∞–π—Ç–∞ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞   | store77.net     |

## üê≥ Docker

### –û–±—Ä–∞–∑—ã

Docker –æ–±—Ä–∞–∑—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ GitHub Container Registry:

```
ghcr.io/<owner>/store77-price-tracker/api:latest
ghcr.io/<owner>/store77-price-tracker/web:latest
```

### –†–∞–∑–º–µ—Ä—ã –æ–±—Ä–∞–∑–æ–≤

| –û–±—Ä–∞–∑ | –†–∞–∑–º–µ—Ä  |
| ----- | ------- |
| API   | ~250 MB |
| Web   | ~150 MB |

### Health Checks

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏–º–µ—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ health checks:

```bash
# API
curl http://localhost:8080/api/health

# Web (Next.js)
curl http://localhost:3000

# PostgreSQL
docker-compose exec postgres pg_isready

# Redis
docker-compose exec redis redis-cli ping
```

## üîÑ CI/CD

### GitHub Actions Workflows

| Workflow | –¢—Ä–∏–≥–≥–µ—Ä                 | –û–ø–∏—Å–∞–Ω–∏–µ                       |
| -------- | ----------------------- | ------------------------------ |
| CI       | Push, PR –≤ main/develop | Lint, Build, Unit-—Ç–µ—Å—Ç—ã        |
| Deploy   | Push –≤ main             | Build ‚Üí Push ‚Üí Deploy ‚Üí Health |

### –°–µ–∫—Ä–µ—Ç—ã GitHub

–î–ª—è –¥–µ–ø–ª–æ—è –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ `Settings > Secrets`:

- `SSH_PRIVATE_KEY` ‚Äî SSH –∫–ª—é—á –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
- `SERVER_HOST` ‚Äî –ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
- `SERVER_USER` ‚Äî –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å SSH
- `DB_PASSWORD` ‚Äî –ü–∞—Ä–æ–ª—å PostgreSQL

## ü§ù Contributing

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É (`git checkout -b feature/amazing-feature`)
3. –°–ª–µ–¥—É–π—Ç–µ [Style Guide](docs/STYLE_GUIDE.md)
4. –ö–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'feat: add amazing feature'`)
5. –ü—É—à—å—Ç–µ –≤–µ—Ç–∫—É (`git push origin feature/amazing-feature`)
6. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

### –§–æ—Ä–º–∞—Ç –∫–æ–º–º–∏—Ç–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–µ–º [Conventional Commits](https://www.conventionalcommits.org/):

```
feat: –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ —Ü–µ–Ω–µ
fix: –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
docs: –æ–±–Ω–æ–≤–∏—Ç—å README
test: –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è CurrencyService
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
